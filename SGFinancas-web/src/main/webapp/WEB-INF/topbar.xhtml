<ui:composition
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:p="http://primefaces.org/ui"
    xmlns:po="http://primefaces.org/rain"
    xmlns:sec="http://www.springframework.org/security/facelets/tags">

    <div class="layout-topbar">
        <div class="layout-topbar-wrapper">
            <div class="layout-topbar-left">
                <h:link id="logolink" outcome="/restrito/index.xhtml" styleClass="layout-topbar-logo">
                    <p:graphicImage name="images/favicon.png"/>
                    <span class="app-ticket-config d-none d-sm-inline-block">SGFINANÃ‡AS</span>
                </h:link>
            </div>
            <div class="layout-topbar-right">
                <div class="menu-button-wrapper">
                    <a href="#" class="menu-button">
                        <div class="menu-button-bars">
                            <span></span>
                            <span></span>
                            <span></span>
                        </div>
                        <div class="menu-button-times">
                            <span></span>
                            <span></span>
                        </div>
                    </a>
                </div>
                <ul class="layout-topbar-actions">
                    <p:outputPanel styleClass="topbar-icons" id="linksRapidos" style="margin: 0 auto;">
                        <p:repeat value="#{usuarioControle.usuarioLogado.usuarioAcessoRapidoList}" var="dto" rendered="#{empresaControle.isLogadoComoEmpresa()}">
                            <div>
                                <a href="#{controleMenu.doAcionarListagem(dto.idAcessoRapido.link)}">
                                    <i class="fa fa-fw #{dto.idAcessoRapido.icone}"></i>
                                    <div class="tooltip-wrapper">
                                        <div class="item-tooltip">
                                            <div class="arrow"></div>
                                            <div class="text">#{dto.idAcessoRapido.descricao}</div>
                                        </div>
                                    </div>
                                </a>
                            </div>
                        </p:repeat>
                    </p:outputPanel>
                    <li class="topbar-item user-profile">
                        <a id="topbar-profile-menu-button" href="#">
                            <p:graphicImage rendered="#{usuarioControle.usuarioLogado.foto ne null}" id="fotoHeader" value="#{usuarioControle.imagemPerfil}" library="rain-layout" styleClass="topbar-profile" style="border-radius: 50%;"/>
                            <p:graphicImage rendered="#{usuarioControle.usuarioLogado.foto eq null}" id="fotoHeaderPadrao" url="/resources/images/avatar-usuario.jpg" library="rain-layout"  styleClass="topbar-profile" style="border-radius: 50%;"/>

                            <span>#{usuarioControle.usuarioLogado.nome}</span>
                        </a>
                        <ul>
                            <li class="bg-white" style="cursor: default;">
                                <div>
                                    <h3 style="margin: 0;">#{usuarioControle.usuarioLogado.nome}</h3>
                                    <span>#{usuarioControle.usuarioLogado.idPerfil.descricao}</span>
                                </div>
                            </li>
                            <li>
                                <a href="#{facesContext.externalContext.requestContextPath}/restrito/perfil/perfilUsuario.xhtml">
                                    <i class="fa fa-fw fa-user icon"></i>
                                    <span>Minha conta</span>
                                </a>
                            </li>
                            <p:row rendered="#{usuarioControle.usuarioLogado.qtdEmpresas > 1}">
                                <li>
                                    <a href="/selecionarEmpresa.xhtml">
                                        <i class="fa fa-fw fa-at"></i>
                                        <span>Acessar outra empresa</span>
                                    </a>
                                </li>
                            </p:row>
                            <li>
                                <a href="#{facesContext.externalContext.requestContextPath}/loginLogout.xhtml">
                                    <i class="fa fa-fw fa-key"></i>
                                    <span>Sair</span>
                                </a>
                            </li>
                        </ul>
                    </li>
                </ul>
                <a href="#" class="layout-rightpanel-button" id="notificacoes">
                    <i class="pi pi-ellipsis-v"></i>
                </a>
            </div>
        </div>

    </div>
</ui:composition>