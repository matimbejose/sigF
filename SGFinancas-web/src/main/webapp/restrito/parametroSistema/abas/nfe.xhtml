<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <div class="form-body">
        <p:outputPanel rendered="#{parametroSistemaControle.parametroSistemaSelecionado.nfeMsToken ne null}">
            <div class="row align-items-end">
                <div class="col">
                    <div class="form-group form-md-line-input">
                        <label class="control-label"><span class="required">* </span> Envio de Nf-e</label>
                        <p:selectOneMenu  value="#{parametroSistemaControle.parametroSistemaSelecionado.envioNotaProduto}"
                                          required="true"
                                          requiredMessage="Informe o ambiente de envio de sua nota">
                            <f:selectItem itemLabel="-- Selecione -- " noSelectionOption="true"/>
                            <f:selectItem itemLabel="Produção" itemValue="1" />
                            <f:selectItem itemLabel="Homologação" itemValue="2" />
                        </p:selectOneMenu >
                    </div>
                </div>
                <div class="col">
                    <div class="form-group form-md-line-input">
                        <label>Nº da última NF emitida fora do SGFinanças</label>
                        <p:inputNumber value="#{parametroSistemaControle.parametroSistemaSelecionado.numNotaFiscal}"
                                       maxValue="999999999" decimalPlaces="0" thousandSeparator=""/>

                    </div>
                </div>
            </div>
            <div class="row align-items-end">
                <div class="col-3">
                    <div class="form-group form-md-line-input">
                        <label class="control-label">Série da saída da NF</label>
                        <p:inputNumber value="#{parametroSistemaControle.parametroSistemaSelecionado.serieSaida}"
                                       maxValue="999" decimalPlaces="0"/>
                    </div>
                </div>
                <div class="col-3">
                    <div class="form-group form-md-line-input">
                        <label class="control-label">Série de entrada da NF</label>
                        <p:inputNumber value="#{parametroSistemaControle.parametroSistemaSelecionado.serieEntrada}"
                                       maxValue="999" decimalPlaces="0"/>
                    </div>
                </div>
                <div class="col-6">
                    <div class="form-group form-md-line-input">
                        <label class="control-label">Categoria padrão na importação de produto</label>
                        <p:selectOneMenu value="#{parametroSistemaControle.parametroSistemaSelecionado.idCategoriaImportacaoProduto}"
                                         converter="#{genericConverter}">
                            <f:selectItem itemLabel="-- Selecione -- " noSelectionOption="true"/>
                            <f:selectItems value="#{parametroSistemaControle.categorias}"  var="categoria" itemLabel="#{categoria.descricao}" itemValue="#{categoria}"/>
                        </p:selectOneMenu>
                    </div>
                </div>
            </div>
            <div class="row align-items-end">
                <div class="col-6">
                    <div class="form-group form-md-line-input">
                        <label class="control-label">Buscar MVA automaticamente</label>
                        <p:selectOneMenu value="#{parametroSistemaControle.parametroSistemaSelecionado.buscaMva}"
                                         converter="#{genericConverter}">
                            <p:importEnum type="br.com.villefortconsulting.sgfinancas.util.EnumBuscaMva"/>
                            <f:selectItems value="#{EnumBuscaMva.ALL_VALUES}"  var="enum" itemLabel="#{enum.descricao}" itemValue="#{enum}"/>
                        </p:selectOneMenu>
                    </div>
                </div>
            </div>
        </p:outputPanel>
        <p:outputPanel rendered="#{parametroSistemaControle.parametroSistemaSelecionado.nfeMsToken eq null}">
            <div class="row">
                <div class="col-md-6">
                    <h:commandButton action="#{parametroSistemaControle.doRegisterForNFe()}"
                                     styleClass="btn blue" value="Habilitar envio de NFe"/>
                </div>
            </div>
        </p:outputPanel>
    </div>

</html>